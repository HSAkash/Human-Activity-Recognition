schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/humanActivityRecognition/pipeline/stage_01_image_extraction.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 4300686bffd86a6e4d8883a4a6ad080f
      size: 545
    - path: data/videoDataset
      hash: md5
      md5: c4af549caa3b0de78e2467f052979e4b.dir
      size: 209573125
      nfiles: 2
    - path: params.yaml
      hash: md5
      md5: de73c556715c6f8ae7376f6f8a56a440
      size: 123
    - path: src/humanActivityRecognition/pipeline/stage_01_image_extraction.py
      hash: md5
      md5: 6ac4120325b32cd7e9693ef4cdbcd1c0
      size: 884
    params:
      params.yaml:
        IMAGE_HEIGHT: 128
        IMAGE_WIDTH: 128
        MAX_WORKERS: 4
        SEQUENCE_LENGTH: 20
    outs:
    - path: data/imageDataset
      hash: md5
      md5: e1d7164c7ec9a72e6524cbea2d37c647.dir
      size: 202067
      nfiles: 40
  keypoint_detection:
    cmd: python src/humanActivityRecognition/pipeline/stage_02_keypoint_detection.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: a1a5fc26f8b25f88118a3edfea53d614
      size: 2740
    - path: data/imageDataset
      hash: md5
      md5: 03af5fd0937774cbea2a4bb1e8700bbe.dir
      size: 1084185
      nfiles: 200
    - path: src/humanActivityRecognition/pipeline/stage_02_keypoint_detection.py
      hash: md5
      md5: c4d0122240fa328a588bb22b1edd9d49
      size: 884
    outs:
    - path: data/boxDataset
      hash: md5
      md5: 4ea12c1dc5ae4d5f3d2033da743d3c93.dir
      size: 26720
      nfiles: 200
    - path: data/keypointDataset
      hash: md5
      md5: fb34f88dba91bb82eb9e106c2fb265c1.dir
      size: 107200
      nfiles: 200
  bluring_image:
    cmd: python src/humanActivityRecognition/pipeline/stage_03_bluring_image.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: a1a5fc26f8b25f88118a3edfea53d614
      size: 2740
    - path: data/boxDataset
      hash: md5
      md5: 4ea12c1dc5ae4d5f3d2033da743d3c93.dir
      size: 26720
      nfiles: 200
    - path: data/imageDataset
      hash: md5
      md5: 03af5fd0937774cbea2a4bb1e8700bbe.dir
      size: 1084185
      nfiles: 200
    - path: src/humanActivityRecognition/pipeline/stage_03_bluring_image.py
      hash: md5
      md5: f66b549be4d56576e4f62fdf2e65de18
      size: 834
    params:
      params.yaml:
        BLUR_STRENGTH: 60
    outs:
    - path: data/bluredImageDataset
      hash: md5
      md5: 7c3653362b9916cd6dcf36651637535b.dir
      size: 705867
      nfiles: 200
  image_extraction:
    cmd: python src/humanActivityRecognition/pipeline/stage_01_image_extraction.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: a1a5fc26f8b25f88118a3edfea53d614
      size: 2740
    - path: data/videoDataset
      hash: md5
      md5: 82c0a80e69bccb5e59843e06547a1056.dir
      size: 916662650
      nfiles: 10
    - path: params.yaml
      hash: md5
      md5: fdb4784377ae3528dd10264761739f8a
      size: 371
    - path: src/humanActivityRecognition/pipeline/stage_01_image_extraction.py
      hash: md5
      md5: 6ac4120325b32cd7e9693ef4cdbcd1c0
      size: 884
    params:
      params.yaml:
        IMAGE_HEIGHT: 128
        IMAGE_WIDTH: 128
        MAX_WORKERS: 4
        SEQUENCE_LENGTH: 20
    outs:
    - path: data/imageDataset
      hash: md5
      md5: 03af5fd0937774cbea2a4bb1e8700bbe.dir
      size: 1084185
      nfiles: 200
  spliting_dataset:
    cmd: python src/humanActivityRecognition/pipeline/stage_04_spliting_dataset.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: a1a5fc26f8b25f88118a3edfea53d614
      size: 2740
    - path: data/bluredImageDataset
      hash: md5
      md5: 7c3653362b9916cd6dcf36651637535b.dir
      size: 705867
      nfiles: 200
    - path: data/keypointDataset
      hash: md5
      md5: fb34f88dba91bb82eb9e106c2fb265c1.dir
      size: 107200
      nfiles: 200
    - path: src/humanActivityRecognition/pipeline/stage_04_spliting_dataset.py
      hash: md5
      md5: 2c8d1b9b53723b0d485dbc4157031d8f
      size: 862
    params:
      params.yaml:
        SEED: 42
        TRAIN_RATION: 0.8
    outs:
    - path: data/splitDataset/bluredImageDataset
      hash: md5
      md5: c58ec75922febdec122c26eb6e260a79.dir
      size: 705867
      nfiles: 200
    - path: data/splitDataset/keypointDataset
      hash: md5
      md5: 4fd46c33a31695df839dcf659117d49f.dir
      size: 107200
      nfiles: 200
  data_augmentation:
    cmd: python src/humanActivityRecognition/pipeline/stage_05_data_augmentation.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: a1a5fc26f8b25f88118a3edfea53d614
      size: 2740
    - path: data/splitDataset/bluredImageDataset
      hash: md5
      md5: c58ec75922febdec122c26eb6e260a79.dir
      size: 705867
      nfiles: 200
    - path: data/splitDataset/keypointDataset
      hash: md5
      md5: 4fd46c33a31695df839dcf659117d49f.dir
      size: 107200
      nfiles: 200
    - path: src/humanActivityRecognition/pipeline/stage_05_data_augmentation.py
      hash: md5
      md5: 46c375f456814f6c84ea45ee9779350a
      size: 1196
    params:
      params.yaml:
        FLIP_FACTOR: true
        MAX_WORKERS: 4
        ROTATE_FACTORS:
        - 30
        - -30
        - 20
        - -20
        - 10
        - -10
        SCALE_FACTORS:
        - 1.1
        - 1.2
        - 1.3
        - 0.9
        - 0.8
        - 0.7
    outs:
    - path: data/augmentedDataset/bluredImageDataset
      hash: md5
      md5: e9166df16da5e351354a8c93231140b4.dir
      size: 8059734
      nfiles: 2280
    - path: data/augmentedDataset/keypointDataset
      hash: md5
      md5: a4747c7e67f513d9550cb253d8bfab87.dir
      size: 1222080
      nfiles: 2280
  feature_extraction:
    cmd: python src/humanActivityRecognition/pipeline/stage_06_feature_extraction.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: a1a5fc26f8b25f88118a3edfea53d614
      size: 2740
    - path: data/augmentedDataset/bluredImageDataset
      hash: md5
      md5: e9166df16da5e351354a8c93231140b4.dir
      size: 8059734
      nfiles: 2280
    - path: src/humanActivityRecognition/pipeline/stage_06_feature_extraction.py
      hash: md5
      md5: cffae3a66ba2821b6c8cdd4b968441fd
      size: 884
    params:
      params.yaml:
        IMAGE_HEIGHT: 128
        IMAGE_WIDTH: 128
    outs:
    - path: data/featureDataset/bluredImageDataset
      hash: md5
      md5: 84ceb812b7bf7c109e8d79f691561a2e.dir
      size: 18969600
      nfiles: 2280
  final_dataset:
    cmd: python src/humanActivityRecognition/pipeline/stage_07_final_dataset.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: a1a5fc26f8b25f88118a3edfea53d614
      size: 2740
    - path: data/augmentedDataset/keypointDataset
      hash: md5
      md5: a4747c7e67f513d9550cb253d8bfab87.dir
      size: 1222080
      nfiles: 2280
    - path: data/featureDataset/bluredImageDataset
      hash: md5
      md5: 84ceb812b7bf7c109e8d79f691561a2e.dir
      size: 18969600
      nfiles: 2280
    - path: src/humanActivityRecognition/pipeline/stage_07_final_dataset.py
      hash: md5
      md5: c773d5c313e6544f4b50cd5549f74631
      size: 861
    params:
      params.yaml:
        IMAGE_HEIGHT: 128
        IMAGE_WIDTH: 128
        MAX_WORKERS: 4
    outs:
    - path: data/finalDataset/bluredImageDataset
      hash: md5
      md5: b7691925f1e4188322931a835e94d686.dir
      size: 18692352
      nfiles: 114
    - path: data/finalDataset/keypointDataset
      hash: md5
      md5: 79b6c18a6ff285cc23f7910985282642.dir
      size: 944832
      nfiles: 114
  training:
    cmd: python src/humanActivityRecognition/pipeline/stage_09_training.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: a1a5fc26f8b25f88118a3edfea53d614
      size: 2740
    - path: data/finalDataset/bluredImageDataset
      hash: md5
      md5: b7691925f1e4188322931a835e94d686.dir
      size: 18692352
      nfiles: 114
    - path: data/finalDataset/keypointDataset
      hash: md5
      md5: 79b6c18a6ff285cc23f7910985282642.dir
      size: 944832
      nfiles: 114
    - path: src/humanActivityRecognition/pipeline/stage_09_training.py
      hash: md5
      md5: 0f314e4ed812ca1a38b44734dfe87371
      size: 1584
    params:
      params.yaml:
        BATCH_SIZE: 32
        EPOCHS: 10
        SAVE_PLOTS: true
        SEED: 42
        VERBOSE: 1
    outs:
    - path: data/results/accuracy_curve.png
      hash: md5
      md5: e4ef544bbcc8703dcbb14eabe7abb294
      size: 28525
    - path: data/results/loss_curve.png
      hash: md5
      md5: 32839b9a57493715dfeda09bf32a2d46
      size: 27715
  prepare_base_model:
    cmd: python src/humanActivityRecognition/pipeline/stage_08_prepare_base_model.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: a1a5fc26f8b25f88118a3edfea53d614
      size: 2740
    - path: data/finalDataset/bluredImageDataset
      hash: md5
      md5: b7691925f1e4188322931a835e94d686.dir
      size: 18692352
      nfiles: 114
    - path: data/finalDataset/keypointDataset
      hash: md5
      md5: 79b6c18a6ff285cc23f7910985282642.dir
      size: 944832
      nfiles: 114
    - path: src/humanActivityRecognition/pipeline/stage_08_prepare_base_model.py
      hash: md5
      md5: 2a1557b196d4f98a90fd751318d9b687
      size: 907
    outs:
    - path: data/model/base_model.keras
      hash: md5
      md5: bc58477f3c8650c31117aa8cd1828603
      size: 3027626
    - path: data/results/base_model_architecture.png
      hash: md5
      md5: bc2a28093657b2d7842f5f608aab0ab0
      size: 145244
  evaluation:
    cmd: python src/humanActivityRecognition/pipeline/stage_10_evaluation.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: a1a5fc26f8b25f88118a3edfea53d614
      size: 2740
    - path: data/finalDataset/bluredImageDataset
      hash: md5
      md5: b7691925f1e4188322931a835e94d686.dir
      size: 18692352
      nfiles: 114
    - path: data/finalDataset/keypointDataset
      hash: md5
      md5: 79b6c18a6ff285cc23f7910985282642.dir
      size: 944832
      nfiles: 114
    - path: data/results/model_checkpoint/model_best/best_model.keras
      hash: md5
      md5: 11b235ffa69467d06bbb7386a63c7396
      size: 8964235
    - path: src/humanActivityRecognition/pipeline/stage_10_evaluation.py
      hash: md5
      md5: 95843fedad97ba6ae227445c4d984d7d
      size: 1232
    params:
      params.yaml:
        BATCH_SIZE: 32
        SHUFFLE_BUFFER_SIZE: 1000
        VERBOSE: 1
    outs:
    - path: data/results/classification_report.txt
      hash: md5
      md5: b8474f27aed1cb43cf67bdb322dd3d57
      size: 497
    - path: data/results/confusion_matrix.png
      hash: md5
      md5: 5c9473ed2852732a4e617c3945a9207d
      size: 25271
